<div class="table-of-contents"
     tal:define="item options/item;
                 brain item/item"
     tal:omit-tag="not:options/is_root">

  <li tal:attributes="class options/li_class"
      tal:omit-tag="options/is_root">

    <a tal:attributes="href brain/getURL;
                       data-uid brain/UID"
       tal:content="options/toc_title"
       tal:condition="not:options/is_root" />

    <ul tal:condition="item/children">
      <tal:children tal:repeat="child item/children">
        <tal:child content="structure python:view.render_toc(child)" />
      </tal:children>
    </ul>

  </li>

</div>
